--- old.dtsEmitTripleSlashAvoidUnnecessaryResolutionMode.errors.txt
+++ new.dtsEmitTripleSlashAvoidUnnecessaryResolutionMode.errors.txt
@@= skipped -0, +-1 lines =@@
-<no content>
@@= skipped --1, +1 lines =@@
+/app.mts(2,67): error TS2705: An async function or method in ES5 requires the 'Promise' constructor.  Make sure you have a declaration for the 'Promise' constructor or include 'ES2015' in your '--lib' option.
+
+
+==== /tsconfig.json (0 errors) ====
+    {
+      "compilerOptions": {
+        "module": "nodenext",
+        "types": [],
+        "declaration": true,
+        "emitDeclarationOnly": true,
+      }
+    }
+    
+==== /app.mts (1 errors) ====
+    /// <reference types="node" preserve="true" />
+    export async function drainStream(stream: NodeJS.ReadableStream): Promise<void> {
+                                                                      ~~~~~~~~~~~~~
+!!! error TS2705: An async function or method in ES5 requires the 'Promise' constructor.  Make sure you have a declaration for the 'Promise' constructor or include 'ES2015' in your '--lib' option.
+    }
+    
+==== /node_modules/@types/node/package.json (0 errors) ====
+    {
+      "name": "@types/node",
+      "version": "1.0.0",
+      "types": "index.d.ts"
+    }
+    
+==== /node_modules/@types/node/globals.d.ts (0 errors) ====
+    declare namespace NodeJS {
+      interface ReadableStream {}
+    }
+    
+==== /node_modules/@types/node/index.d.ts (0 errors) ====
+    /// <reference path="globals.d.ts" />
+    
